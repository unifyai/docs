---
title: 'set_jsonb_mode'
---

```python
def set_jsonb_mode(enabled: bool, api_key: Optional[str] = None) -> Dict[str, Any]:
```

<p align="right">[source code](https://github.com/unifyai/unify/tree/15e67f64a8f14feea5d09c5e9bd1bd8ff5dacac7/unify/logging/utils/logs.py#L2019)</p>

Toggle JSONB/EAV query mode at runtime.This is a debug function for switching between JSONB and EAV query modes
in the Orchestra backend. JSONB mode is the default and offers significantly
better query performance.

**Arguments**:

- `enabled` - If True, enables JSONB mode. If False, reverts to EAV mode.
- `api_key` - If specified, unify API key to be used. Defaults to the value in the



**Returns**:

A dictionary containing the updated mode status:
{"jsonb_mode": bool, "message": str}
Example:
>>> import unify
>>> # Switch to EAV mode for debugging
>>> unify.set_jsonb_mode(False)
{'jsonb_mode': False, 'message': 'JSONB mode disabled'}
>>> # Switch back to JSONB mode
>>> unify.set_jsonb_mode(True)
{'jsonb_mode': True, 'message': 'JSONB mode enabled'}
- `{"jsonb_mode"` - bool, "message": str}
- `{'jsonb_mode'` - False, 'message': 'JSONB mode disabled'}
- `{'jsonb_mode'` - True, 'message': 'JSONB mode enabled'}