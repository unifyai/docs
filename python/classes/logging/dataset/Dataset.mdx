---
title: 'Dataset'
---

```python
class Dataset
```

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L20)</p>



### \_\_init\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L21)</p>

```python
def __init__(
        self,
        data: Optional[Any] = None,
        *,
        name: str = None,
        allow_duplicates: bool = False,
        api_key: Optional[str] = None,
    ) -> None:
```

Initialize a local dataset.

**Arguments**:

- `data` - The data for populating the dataset.
- `name` - The name of the dataset. To create a dataset for a specific project
- `allow_duplicates` - Whether to allow duplicates in the dataset.
- `api_key` - API key for accessing the Unify API. If None, it attempts to



**Raises**:

- `UnifyError`: If the API key is missing.

## properties

---

### allow\_duplicates

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L74)</p>

```python
def allow_duplicates(self) -> bool:
```

Whether to allow duplicates in the dataset.

---

### data

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L81)</p>

```python
def data(self):
```

Dataset entries.

---

### name

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L67)</p>

```python
def name(self) -> str:
```

Name of the dataset.

## setters

---

### set\_allow\_duplicates

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L107)</p>

```python
def set_allow_duplicates(self, allow_duplicates: bool) -> Self:
```

Set whether to allow duplicates in the dataset.

**Arguments**:

- `allow_duplicates` - Whether to allow duplicates in the dataset.



**Returns**:

This dataset, useful for chaining methods.

---

### set\_name

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L94)</p>

```python
def set_name(self, name: str) -> Self:
```

Set the name of the dataset.

**Arguments**:

- `name` - The name to set the dataset to.



**Returns**:

This dataset, useful for chaining methods.

## methods

---

### add

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L266)</p>

```python
def add(
        self,
        other: Union[
            Dataset,
            str,
            Dict,
            Prompt,
            int,
            List[Union[str, Dict, Prompt]],
        ],
    ) -> Self:
```

Adds another dataset to this one, return a new Dataset instance, with this
new dataset receiving all unique queries from the other added dataset.

**Arguments**:

- `other` - The other dataset being added to this one.



**Returns**:

The new dataset following the addition.

---

### download

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L181)</p>

```python
def download(self, overwrite: bool = False) -> Self:
```

Downloads all unique upstream data from the user account to the local dataset.
This function will not upload any unique values stored locally.
Use `sync` to synchronize and superset the datasets in both directions.
Set `overwrite=True` to disregard any pre-existing data stored in this class.

**Arguments**:

- `overwrite` - Whether to overwrite the local data, if any already exists



**Returns**:

This dataset after the in-place download, useful for chaining methods.

---

### from\_upstream

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L120)</p>

```python
def from_upstream(
        name: str,
        api_key: Optional[str] = None,
    ) -> Dataset:
```

Initialize a local dataset from the upstream dataset.

**Arguments**:

- `name` - The name of the dataset.
- `api_key` - API key for accessing the Unify API. If None, it attempts to



**Returns**:

The dataset, with contents downloaded from upstream.



**Raises**:

- `UnifyError`: If the API key is missing.

---

### inplace\_add

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L315)</p>

```python
def inplace_add(
        self,
        other: Union[
            Dataset,
            str,
            Dict,
            Prompt,
            int,
            List[Union[str, Dict, Prompt]],
        ],
    ) -> Self:
```

Adds another dataset to this one, with this dataset receiving all unique queries
from the other added dataset.

**Arguments**:

- `other` - The other dataset being added to this one.



**Returns**:

This dataset following the in-place addition.

---

### inplace\_sub

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L342)</p>

```python
def inplace_sub(
        self,
        other: Union[Dataset, str, Dict, Prompt, List[Union[str, Dict, Prompt]]],
    ) -> Self:
```

Subtracts another dataset from this one, with this dataset losing all queries
from the other subtracted dataset.

**Arguments**:

- `other` - The other dataset being added to this one.



**Returns**:

This dataset following the in-place subtraction.

---

### sub

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L293)</p>

```python
def sub(
        self,
        other: Union[Dataset, str, Dict, Prompt, List[Union[str, Dict, Prompt]]],
    ) -> Self:
```

Subtracts another dataset from this one, return a new Dataset instance, with
this new dataset losing all queries from the other subtracted dataset.

**Arguments**:

- `other` - The other dataset being added to this one.



**Returns**:

The new dataset following the subtraction.

---

### sync

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L228)</p>

```python
def sync(self) -> Self:
```

Synchronize the dataset in both directions, downloading any values missing
locally, and uploading any values missing from upstream in the account.

**Returns**:

This dataset after the in-place sync, useful for chaining methods.

---

### upload

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L156)</p>

```python
def upload(self, overwrite: bool = False) -> Self:
```

Uploads all unique local data in the dataset to the user account upstream.
This function will not download any uniques from upstream.
Use `sync` to synchronize and superset the datasets in both directions.
Set `overwrite=True` to disregard any pre-existing upstream data.

**Arguments**:

- `overwrite` - Whether to overwrite the upstream dataset if it already exists.



**Returns**:

This dataset, useful for chaining methods.

---

### upstream\_diff

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L240)</p>

```python
def upstream_diff(self) -> Self:
```

Prints the difference between the local dataset and the upstream dataset.

**Returns**:

This dataset after printing the diff, useful for chaining methods.

## dunder_methods

---

### \_\_add\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L364)</p>

```python
def __add__(
        self,
        other: Union[Dataset, str, Dict, Prompt, List[Union[str, Dict, Prompt]]],
    ) -> Self:
```

Adds another dataset to this one via the + operator, return a new Dataset
instance, with this new dataset receiving all unique queries from the other
added dataset.

**Arguments**:

- `other` - The other dataset being added to this one.



**Returns**:

The new dataset following the addition.

---

### \_\_contains\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L485)</p>

```python
def __contains__(
        self,
        item: Union[Dataset, str, Dict, Prompt, List[Union[str, Dict, Prompt]]],
    ) -> bool:
```

Determine whether the item is contained within the dataset. The item is cast to
a Dataset instance, and can therefore take on many different types. Only returns
True if *all* entries in the passed dataset are contained within this dataset.

**Arguments**:

- `item` - The item to cast to a Dataset before checking if it's a subset of this



**Returns**:

Boolean, whether the passed Dataset is a subset of this one.

---

### \_\_getitem\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L535)</p>

```python
def __getitem__(self, item: Union[int, slice]) -> Union[Any, Dataset]:
```

Gets an item from the dataset, either via an int or slice. In the case of an
int, then a data instance is returned, and for a slice a Dataset instance is
returned.

**Arguments**:

- `item` - integer or slice for extraction.



**Returns**:

An individual item or Dataset slice, for int and slice queries respectively.

---

### \_\_iadd\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L408)</p>

```python
def __iadd__(
        self,
        other: Union[Dataset, str, Dict, Prompt, List[Union[str, Dict, Prompt]]],
    ) -> Self:
```

Adds another dataset to this one, with this dataset receiving all unique queries
from the other added dataset.

**Arguments**:

- `other` - The other dataset being added to this one.



**Returns**:

This dataset following the in-place addition.

---

### \_\_isub\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L459)</p>

```python
def __isub__(
        self,
        other: Union[Dataset, str, Dict, Prompt, List[Union[str, Dict, Prompt]]],
    ) -> Self:
```

Subtracts another dataset from this one, with this dataset losing all queries
from the other subtracted dataset.

**Arguments**:

- `other` - The other dataset being added to this one.



**Returns**:

This dataset following the in-place subtraction.

---

### \_\_iter\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L475)</p>

```python
def __iter__(self) -> Any:
```

Iterates through the dataset, return one instance at a time.

**Returns**:

The next instance in the dataset.

---

### \_\_len\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L526)</p>

```python
def __len__(self) -> int:
```

Returns the number of entries contained within the dataset.

**Returns**:

The number of entries in the dataset.

---

### \_\_radd\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L381)</p>

```python
def __radd__(
        self,
        other: Union[
            Dataset,
            str,
            Dict,
            Prompt,
            int,
            List[Union[str, Dict, Prompt]],
        ],
    ) -> Self:
```

Adds another dataset to this one via the + operator, this is used if the
other item does not have a valid __add__ method for these two types. Return a
new Dataset instance, with this new dataset receiving all unique queries from
the other added dataset.

**Arguments**:

- `other` - The other dataset being added to this one.



**Returns**:

The new dataset following the addition.

---

### \_\_repr\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L578)</p>

```python
def __repr__(self):
```



---

### \_\_rsub\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L441)</p>

```python
def __rsub__(
        self,
        other: Union[Dataset, str, Dict, Prompt, List[Union[str, Dict, Prompt]]],
    ) -> Self:
```

Subtracts another dataset from this one via the - operator, this is used if the
other item does not have a valid __sub__ method for these two types. Return a
new Dataset instance, with this new dataset losing all queries from the other
subtracted dataset.

**Arguments**:

- `other` - The other dataset being subtracted from this one.



**Returns**:

The new dataset following the subtraction.

---

### \_\_setitem\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L556)</p>

```python
def __setitem__(self, item: Union[int, slice], value: Union[Any, Dataset]):
```



---

### \_\_sub\_\_

<p align="right">[source code](https://github.com/unifyai/unify/tree/62585cc40e7cb260f8ec94fd605cfc7845160b68/unify/logging/dataset.py#L424)</p>

```python
def __sub__(
        self,
        other: Union[Dataset, str, Dict, Prompt, List[Union[str, Dict, Prompt]]],
    ) -> Self:
```

Subtracts another dataset from this one via the - operator, return a new Dataset
instance, with this new dataset losing all queries from the other subtracted
dataset.

**Arguments**:

- `other` - The other dataset being subtracted from this one.



**Returns**:

The new dataset following the subtraction.